Google 开源项目风格指南总结 (2024版)
本文档基于 Google 开源项目风格指南（20241208版）整理，主要涵盖 TypeScript、JavaScript、CSS/SCSS 及 Java 的核心开发规范。
1. TypeScript 风格指南
1.1 基础规范
标识符命名：
类、接口、类型、枚举、装饰器、类型参数：使用 UpperCamelCase (帕斯卡命名法)。
变量、参数、函数、方法、属性、模块别名：使用 lowerCamelCase (驼峰式命名法)。
全局常量、枚举值：使用 CONSTANT_CASE (全大写下划线)。
禁止：使用私有成员命名法 #ident，禁止使用 _ 作为前缀或后缀（除特定框架要求外）。
文件编码：必须使用 UTF-8。
注释：
文档注释使用 /** ... */ (JSDoc)。
实现细节注释使用 //。
必须为所有导出的顶层模块、类、方法添加 JSDoc 注释。
1.2 语言特性
可见性：
默认为 public，不要显式写 public。
尽可能限制可见性（优先 private 或 protected）。
构造函数：
调用时必须带括号 new Foo()。
不要声明空的或仅调用 super() 的构造函数（除非含有参数属性或装饰器）。
类成员：
禁止使用 #private 语法，应使用 private 修饰符。
推荐使用 readonly 标记构造后不再修改的属性。
推荐使用参数属性（在构造函数参数前加访问修饰符）来简化字段初始化。
禁止使用 obj['foo'] 绕过可见性检查。
存取器 (Getters/Setters)：
取值器必须是纯函数（无副作用）。
如果有取值器但无设值器，考虑直接用 readonly 属性替代。
类型使用：
禁止使用原始类型封装类 (Number, String, Boolean) 作为类型或实例化。应直接使用 number, string, boolean。
禁止使用 Array() 构造函数，应使用 [] 或 Array.from。
类型断言：使用 as Type 语法，禁止使用 <Type> 语法。
Any：尽可能避免使用 any。如需表示未知类型，优先使用 unknown。
控制流：
switch 语句必须包含 default 分支。
必须使用 === 和 !==，禁止使用 == 和 != (与 null 比较除外)。
多行控制流语句必须使用大括号。
函数：
使用 function foo() { ... } 声明具名函数。
推荐使用箭头函数 () => {} 代替旧式的 function 表达式，特别是在需要绑定 this 时。
禁止在箭头函数中引用 this（除非它确实用于重新绑定）。
模块与导入：
必须使用 ES6 模块语法 (import/export)，禁止使用 namespace 或 require。
禁止使用默认导出 (export default)，必须使用具名导出 (export class Foo ...)。
导入路径使用相对路径（./ 或 ../）引用同一项目文件。
2. JavaScript 风格指南
2.1 语言规范
变量声明：总是使用 var (注：在现代 JS/TS 环境中通常推荐 const/let，但 Google JS 指南原文强调 var 以避免全局污染，若项目支持 ES6+ 请参考 TS 规范)。
常量：命名使用全大写 CONSTANT_VALUE_CASE。可使用 @const 标记常量指针。
分号：必须使用分号结束语句，不要依赖隐式插入。
嵌套函数：允许使用。
块内函数声明：禁止在块（如 if）中声明函数，应使用函数表达式赋值给变量。
原始类型包装：禁止使用 new Boolean(), new Number() 等，但可用于类型转换（如 Boolean(0)）。
原型：不建议直接修改 Object.prototype 等内置原型。
闭包：允许使用，但需注意循环引用导致的内存泄漏。
Eval / With：
eval()：仅用于反序列化（如 RPC 响应），禁止用于处理用户输入。
with：禁止使用。
For-in 循环：仅用于遍历对象/Map/Hash 的键，禁止用于数组遍历。
数组/对象字面量：推荐使用 [] 和 {}，代替 new Array() 和 new Object()。
2.2 风格规范
命名：
变量、函数、方法：lowerCamelCase。
类、枚举：UpperCamelCase。
常量：CONSTANT_CASE。
私有属性/方法：以 下划线 _ 结尾（如 privateProp_）。
JSDoc：必须使用 JSDoc 风格注释。
使用 @param, @return, @constructor, @private 等标签。
格式化：
大括号：K&R 风格（左大括号不换行）。
缩进：2 个空格。
字符串：推荐使用单引号 '。
3. HTML / CSS 风格指南
3.1 通用规则
协议：嵌入资源（图片、脚本等）省略协议头 http: 或 https:（使用相对协议 //）。
缩进：使用 2 个空格，不使用 Tab。
大小写：所有代码（元素名、属性、选择器、属性名）均使用 小写。
编码：使用 UTF-8 无 BOM。
3.2 HTML 规则
文档类型：使用 HTML5 <!DOCTYPE html>。
语义化：根据元素用途使用标签（如标题用 h1-h6，段落用 p，链接用 a）。
多媒体：图片必须加 alt 属性。
分离：结构（HTML）、表现（CSS）、行为（JS）分离。
引号：属性值使用 双引号 ""。
3.3 CSS 规则
ID 与 Class 命名：
使用有意义的名称，避免表现性命名（如 .red）。
使用 连字符 - 分隔单词（如 .adw-gallery）。
禁止使用下划线。
选择器：
禁止在 ID 或 Class 前添加类型选择器（如 div.error -> .error）。
简写：尽可能使用属性简写（如 font, padding）。
0 值：0 后面不要加单位（如 margin: 0;）。
格式化：
声明顺序：按属性名的 字母顺序 排列。
分号：每个声明后都要加分号。
空格：属性名冒号后加 1 个空格；选择器和左大括号间加 1 个空格。
换行：每个选择器和声明独占一行。
引号：url() 中不加引号；属性值中使用 单引号 '。
4. Java 风格指南
4.1 源文件基础
文件名：顶级类名 + .java，大小写敏感。
编码：UTF-8。
结构顺序：
许可证/版权信息
package 语句（不换行）
import 语句（不换行，无通配符 *）
顶级类（且仅有一个）
4.2 格式 (Formatting)
大括号：
K&R 风格（左大括号不换行，右大括号换行）。
非空块：if, else, for, do, while 语句必须使用大括号，即使只有一行代码。
缩进：2 个空格。
列限制：100 字符。
换行：
运算符处换行：非赋值运算符在 符号前 换行（如 +, .）；赋值运算符在 符号后 换行。
缩进：换行后至少缩进 4 个空格。
空白：
关键字（if, for）与 ( 之间加空格。
catch, else 与 } 之间加空格。
二元/三元运算符两侧加空格。
禁止水平对齐（为了对齐而增加多余空格）。
数组初始化：可以写成块状结构。
变量声明：
一行只声明一个变量。
禁止 C 风格数组声明（应使用 String[] args 而非 String args[]）。
4.3 命名
包名：全小写，连续单词（无下划线），如 com.example.deepspace。
类名：UpperCamelCase (大驼峰)。
方法名：lowerCamelCase (小驼峰)。
常量名：UPPER_SNAKE_CASE (全大写下划线)，仅限 static final 且不可变对象。
非常量字段/参数/局部变量：lowerCamelCase。
禁止：使用匈牙利命名法或特殊前缀（如 mName, s_name）。
4.4 编程习惯
@Override：只要合法必须使用。
异常捕获：catch 块中不能什么都不做（除非是测试中的预期异常，或注释说明原因）。
静态成员：必须通过类名访问，而不是实例名。
Finalizers：禁止重写 Object.finalize。
4.5 Javadoc
必须：对所有 public 类及 public/protected 成员编写 Javadoc。
格式：
第一段为摘要片段（不是完整句子）。
使用 <p> 分隔段落。
标签顺序：@param, @return, @throws, @deprecated。
